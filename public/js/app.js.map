{"version":3,"file":"../public/js/app.js","sources":["app/app.coffee","app/lib/router.coffee","app/models/ask.coffee","app/models/user.coffee","app/templates/answer.jade","app/templates/ask.jade","app/templates/error.jade","app/templates/global.jade","app/templates/header.jade","app/templates/home.jade","app/templates/perma.jade","app/views/answer-view.coffee","app/views/ask-view.coffee","app/views/base-view.coffee","app/views/error-view.coffee","app/views/global-view.coffee","app/views/header-view.coffee","app/views/home-view.coffee","app/views/perma-view.coffee"],"names":[],"mappings":"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EACA,MAAM;CADN,EAGG,CAAH,KAAU;CACJ,EAAD,CAAa,GAAhB;CADF,IAAS;CAHT,EAMG,CAAH,EAAmB;CAEnB,EAAU,IAAH;CATT,EAAe;;CAAf,CAWgB,OAAC,KAAjB;CACE;QAAM;CAAN,EACA,QAAM;CADN,EAGG,CAAH,KAAU;CACJ,EAAD,CAAa,GAAhB;CADF,IAAS;CAHT,EAMG,CAAH,EAAmB;CAEnB,EAAU,IAAH;CApBT,EAWgB;;CAXhB;;CAFkC,OAAQ;A;;CCF5C;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvBA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;A,CCAA;;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAdA;;A;ACAA;;;;;GAAuB,GAAjB,CAAN;CAEE;;;;;;;;;;GAAI,OAAJ;;GACc,KADd,IACA;;CADA,EAIE,GADF;CACE,CAAyB,EAAzB;EACkB,EAAlB,IADA,OACA;CALF;;EASE,CADK,EAAP,CAAO,GAAoB,CAAF;CACvB,CAAY,EAAZ;EACgB,EAAhB,MADA,IACA;CADA,CAEY,EAAZ,QAFA;CATF,GAQO;;CARP,EAcY,MAAE,CAAd;CAAoB,EAAN,CAAD;CAdb,EAcY;;CAdZ,EAgBU,KA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","sourcesContent":["User        = require 'models/user'  \nRouter      = require 'lib/router'\nHomeView    = require 'views/home-view'\nGlobalView  = require 'views/global-view'\n\nclass AskRoulette\n\n  constructor: (user) ->\n    if user\n      @user = new User user\n\n    @router   = new Router user: @user\n    domDef    = $.Deferred()\n    @domReady = domDef.promise()\n    @views    = \n      global: new GlobalView @\n      home: new HomeView @\n\n    $ =>\n      domDef.resolve()\n      Backbone.history.start pushState: true\n\n\nmodule.exports = (user) ->\n  window.app = new AskRoulette(user)\n\n","Ask         = require 'models/ask'\nAskView     = require 'views/ask-view'\nAnswerView  = require 'views/answer-view'\nPermaView   = require 'views/perma-view'\nHeaderView  = require 'views/header-view'\nErrorView   = require 'views/error-view'\n\nmodule.exports = class Router extends Backbone.Router\n\n  routes:\n    '':             'home'\n    'ask':          'ask'\n    'ask/:id':      'perma'\n    'answer':       'answer'\n    '*notFound':    'notFound'\n\n  initialize: (@options) ->\n    @askView = new AskView\n    @answerView = new AnswerView\n    @errorView = new ErrorView\n\n    {@user} = options\n    headerView = new HeaderView(model: @user)\n    headerView.render(user: @user)\n\n  navigate: (route) ->\n    super route, trigger: true\n\n  home: ->\n    if @user\n      if @user.get 'needs_to_ask'\n        @navigate 'ask'\n      else\n        @navigate 'answer'\n    else\n      app.views.home.render()\n\n  ask: ->\n    @navigate '/' unless @user\n    @navigate 'answer' unless @user.get 'needs_to_ask'\n\n    ask = new Ask\n    ask.set 'asker', @user.toJSON()\n    @askView.model = ask\n    @askView.render()\n\n  answer: ->\n    @navigate '/' unless @user\n    @navigate 'ask' if @user.get 'needs_to_ask'\n\n    req = app.user.getCurrentAsk()\n    req.done (ask) =>\n      @answerView.model = ask\n      @answerView.render()\n    req.fail () =>\n      @errorView.render()\n\n  perma: (id) ->\n    ask = new Ask\n      id: id\n    ask.fetch()\n      .done () =>\n        view = new PermaView\n          model: ask\n        view.render()\n      .fail () =>\n        console.log 'fail'\n\n  notFound: ->\n\n","module.exports = class Ask extends Backbone.Model\n\n  url: () ->\n    return '/ask/' + @id\n\n  submitQuestion: (user) =>\n    req = $.post '/ask', @attributes\n    req.done () =>\n      user.set 'needs_to_ask', false\n\n    return req\n\n  submitAnswer: (user) =>\n    req = $.post '/answer', @attributes\n    req.done () =>\n      user.set 'needs_to_ask', true\n\n    return req","Ask = require 'models/ask'\n\nmodule.exports = class User extends Backbone.Model\n\n  getCurrentAsk: (fn) ->\n    def = $.Deferred()\n    req = $.get '/answer'\n\n    req.done (data) ->\n      def.resolve new Ask data\n\n    req.fail def.reject.bind()\n\n    return def.promise()\n\n  skipCurrentAsk: (fn) ->\n    def = $.Deferred()\n    req = $.post '/ask/skip'\n\n    req.done (data) ->\n      def.resolve new Ask data\n\n    req.fail def.reject.bind()\n\n    return def.promise()","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),ask = locals_.ask;\nbuf.push(\"<div class=\\\"ask\\\"><div class=\\\"question\\\"><div class=\\\"tumblelog\\\"><div class=\\\"avatar_container\\\"><div class=\\\"avatar_frame\\\"><img\" + (jade.attr(\"src\", ask.asker.avatars['64'], true, false)) + \" class=\\\"avatar\\\"/></div></div><p class=\\\"tumblelog_name\\\">\" + (jade.escape(null == (jade.interp = ask.asker.username) ? \"\" : jade.interp)) + \"</p></div><div class=\\\"question_text text\\\">\" + (jade.escape(null == (jade.interp = ask.question_text) ? \"\" : jade.interp)) + \"</div></div><div class=\\\"response\\\"><textarea type=\\\"text\\\" name=\\\"response\\\" class=\\\"answer_input\\\"></textarea><div class=\\\"tumblelog\\\"><div class=\\\"avatar_container\\\"><div class=\\\"avatar_frame\\\"><img\" + (jade.attr(\"src\", ask.responder.avatars['64'], true, false)) + \" class=\\\"avatar\\\"/></div></div><p class=\\\"tumblelog_name\\\">\" + (jade.escape(null == (jade.interp = ask.responder.username) ? \"\" : jade.interp)) + \"</p></div></div><div class=\\\"buttons\\\"><button name=\\\"skip\\\" value=\\\"skip\\\" id=\\\"skip\\\" class=\\\"skip_button\\\">Skip</button><button name=\\\"submit\\\" value=\\\"submit\\\" id=\\\"submit\\\" class=\\\"answer_button\\\">Answer</button></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),ask = locals_.ask;\nbuf.push(\"<div class=\\\"ask\\\"><div class=\\\"question\\\"><div class=\\\"tumblelog\\\"><div class=\\\"avatar_container\\\"><div class=\\\"avatar_frame\\\"><img\" + (jade.attr(\"src\", ask.asker.avatars['64'], true, false)) + \" class=\\\"avatar\\\"/></div></div><p class=\\\"tumblelog_name\\\">\" + (jade.escape(null == (jade.interp = ask.asker.username) ? \"\" : jade.interp)) + \"</p></div><textarea type=\\\"text\\\" name=\\\"response\\\" class=\\\"answer_input\\\"></textarea></div><div class=\\\"buttons\\\"><button name=\\\"ask\\\" value=\\\"ask\\\" id=\\\"ask\\\" class=\\\"ask_button\\\">Ask</button></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div class=\\\"ask\\\"><div class=\\\"question\\\"><div class=\\\"question_text text\\\">You've answered everyone's questions, check back soon for more.</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<header class=\\\"header\\\"></header><div class=\\\"content\\\"></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),user = locals_.user;\nbuf.push(\"<div class=\\\"header\\\"><a href=\\\"/\\\"><div class=\\\"circle\\\"><p class=\\\"title\\\">So Skip It</p></div></a><div class=\\\"callout\\\"><p>Ask a question. Get a question.</p></div><div class=\\\"user\\\">\");\nif ( user)\n{\nbuf.push(\"<a href=\\\"/auth/logout\\\">Logout</a>\");\n}\nelse\n{\nbuf.push(\"<a href=\\\"/auth/login\\\">Login</a>\");\n}\nbuf.push(\"</div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\n\nbuf.push(\"<div class=\\\"gif\\\"><img src=\\\"/images/skip_it.gif\\\"/></div><div class=\\\"login\\\"><div class=\\\"login-box\\\"><a id=\\\"login\\\" href=\\\"/auth/tumblr\\\">Get Started</a><div class=\\\"t-icon\\\"><img src=\\\"/images/tumblr_logo_white_128.png\\\"/></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar locals_ = (locals || {}),ask = locals_.ask;\nbuf.push(\"<div class=\\\"ask\\\"><div class=\\\"question\\\"><div class=\\\"tumblelog\\\"><div class=\\\"avatar_container\\\"><div class=\\\"avatar_frame\\\"><img\" + (jade.attr(\"src\", ask.asker.avatars['64'], true, false)) + \" class=\\\"avatar\\\"/></div></div><p class=\\\"tumblelog_name\\\">\" + (jade.escape(null == (jade.interp = ask.asker.username) ? \"\" : jade.interp)) + \"</p></div><div class=\\\"question_text text\\\">\" + (jade.escape(null == (jade.interp = ask.question_text) ? \"\" : jade.interp)) + \"</div></div><div class=\\\"response\\\"><div class=\\\"tumblelog\\\"><div class=\\\"avatar_container\\\"><div class=\\\"avatar_frame\\\"><img\" + (jade.attr(\"src\", ask.responder.avatars['64'], true, false)) + \" class=\\\"avatar\\\"/></div></div><p class=\\\"tumblelog_name\\\">\" + (jade.escape(null == (jade.interp = ask.asker.username) ? \"\" : jade.interp)) + \"</p></div><div class=\\\"response_text text\\\">\" + (jade.escape(null == (jade.interp = ask.response_text) ? \"\" : jade.interp)) + \"</div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","module.exports = class AnswerView extends require 'views/base-view'\n\n  el: '#content'\n  templateName: 'answer'\n\n  events:\n    'click .skip_button':    'skip'\n    'click #submit':  'submit'\n\n\n  uiMap: _.extend _.clone(@::uiMap),\n    'tape':     '.tape'\n    'responseText': 'textarea'\n    'helpText': '.help-text'\n\n\n  initialize: (@app) ->\n\n  viewData: () =>\n    return {\n      ask: @model.toJSON()\n    }\n\n  submit: (event) =>\n    event.preventDefault()\n    @model.set 'response_text', @ui.responseText.val()\n    @model.set 'responder', app.user.toJSON()\n    @model.submitAnswer(app.user).done () =>\n      @unbind()\n      app.router.navigate 'ask'\n\n\n  skip: (event) =>\n    app.user.skipCurrentAsk().done () =>\n      @unbind()\n      app.router.navigate ''\n\n        \n\n\n","module.exports = class AskView extends require 'views/base-view'\n\n  el: '#content'\n  templateName: 'ask'\n\n  events:\n    'click .skip':        'skip'\n    'click .help-button': 'toggleHelp'\n    'click #ask':         'ask'\n\n\n  uiMap: _.extend _.clone(@::uiMap),\n    'tape':         '.tape'\n    'questionText': 'textarea'\n    'helpText':     '.help-text'\n\n\n  initialize: (@app) ->\n    \n  viewData: () =>\n    return {\n      ask: @model.toJSON()\n    }\n\n  ask: (event) =>\n    event.preventDefault()\n    @model.set 'question_text', @ui.questionText.val()\n    @model.submitQuestion(app.user).done () =>\n      @unbind()\n      app.router.navigate 'answer'\n\n","module.exports = class BaseView extends Backbone.View\n\n  uiMap: {}\n\n  constructor: ->\n    super\n    @ui = {}\n\n\n  template: (data) ->\n    require(\"templates/#{ @templateName }\") data\n\n  viewData: () ->\n    {}\n\n  render: (data) =>\n    @$el.html @template @viewData()\n    @ui[key] = @$ selector for key, selector of @uiMap\n    @","module.exports = class ErrorView extends require 'views/base-view'\n\n  el: '#content'\n  templateName: 'error'\n\n  initialize: (@app) ->\n\n","\nmodule.exports = class GlobalView extends require 'views/base-view'\n\n  el: '#content'\n  templateName: 'global'\n\n  events:\n    'click .skip':        'skip'\n    'click .help-button': 'toggleHelp'\n\n\n  uiMap: _.extend _.clone(@::uiMap),\n    'tape':     '.tape'\n    'helpText': '.help-text'\n\n\n  initialize: (app) ->\n    $.when(app.domReady).then @render\n\n\n\n","module.exports = class HeaderView extends require 'views/base-view'\n\n  el: '#header'\n  templateName: 'header'\n\n  events:\n    'click .logout':      'logout'\n    'click .login':       'login'\n    'click .help-button': 'toggleHelp'\n\n\n  uiMap: _.extend _.clone(@::uiMap),\n    'tape':     '.tape'\n    'helpText': '.help-text'\n\n\n  initialize: (app) ->\n    \n\n  viewData: () ->\n    return {\n      user: @model\n    }\n\n  logout: (app) ->\n\n\n  login: (app) ->\n\n\n","module.exports = class HomeView extends require 'views/base-view'\n\n  el: '#content'\n  templateName: 'home'\n\n  events:\n    'click .skip':        'skip'\n    'click .help-button': 'toggleHelp'\n\n\n  uiMap: _.extend _.clone(@::uiMap),\n    'tape':     '.tape'\n    'helpText': '.help-text'\n\n\n  initialize: (app) ->\n    \n\n\n","module.exports = class PermaView extends require 'views/base-view'\n\n  el: '#content'\n  templateName: 'perma'\n\n  events:\n    'click .skip':        'skip'\n    'click .help-button': 'toggleHelp'\n    'click #submit':      'submit'\n\n\n  uiMap: _.extend _.clone(@::uiMap),\n    'tape':         '.tape'\n    'questionText': 'input[name=\"question_text\"]'\n    'helpText':     '.help-text'\n\n\n  initialize: (app) ->\n    \n\n  viewData: () ->\n    return {\n      ask: @model.toJSON()\n    }\n\n  submit: () =>\n    @model.set 'question_text', @ui.questionText.val()\n    @model.submitQuestion()\n\n\n"]}